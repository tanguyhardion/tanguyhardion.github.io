import{a as E,b as F}from"./chunk-I5TDW6OU.js";import{Bb as u,Db as l,Eb as m,Fb as D,Ga as O,Ja as i,Oa as P,Ta as v,Ya as w,ac as b,cc as I,db as h,f,gb as S,hb as C,ib as y,jb as _,jc as k,kb as r,kc as K,lb as o,qb as d,wb as s,xb as c,yb as x}from"./chunk-LFAHSWMM.js";var $=a=>({"--link-image":a}),j=a=>({date:a}),B=a=>({"--language-image":a}),z=a=>({"--interest-image":a});function A(a,e){if(a&1&&(r(0,"span",9),s(1),l(2,"translate"),o()),a&2){let t=d().$implicit;i(),c(D(2,1,"more.resumes.lastUpdated",u(4,j,t.lastCommitDate)))}}function L(a,e){if(a&1&&(r(0,"div",2)(1,"a",7),s(2),l(3,"translate"),r(4,"span",8),s(5,"open_in_new"),o()(),w(6,A,3,6,"span",9),o()),a&2){let t=e.$implicit,n=d();i(),h("href",t.path,O)("ngStyle",u(6,$,n.getImagePath(t.image))),i(),x(" ",m(3,4,t.nameKey)," "),i(4),S(t.lastCommitDate?6:-1)}}function U(a,e){if(a&1&&(r(0,"div",4)(1,"span",10),s(2),l(3,"translate"),o(),r(4,"span"),s(5,"\xA0-\xA0"),o(),r(6,"span",11),s(7),l(8,"translate"),o()()),a&2){let t=e.$implicit,n=d();h("ngStyle",u(7,B,n.getImagePath(t.image))),i(2),x(" ",m(3,3,t.nameKey)," "),i(5),c(m(8,5,t.levelKey))}}function N(a,e){if(a&1&&(r(0,"div",6),s(1),l(2,"translate"),o()),a&2){let t=e.$implicit,n=d();h("ngStyle",u(4,z,n.getImagePath(t.image))),i(),x(" ",m(2,2,t.nameKey)," ")}}var T=class a{constructor(e){this.translateService=e}translations={en:{today:"today",yesterday:"yesterday",days:e=>`${Math.floor(e)} days ago`,month:"1 month ago",months:e=>`${Math.floor(e)} months ago`,year:"1 year ago",years:e=>`${Math.floor(e)} years ago`},fr:{today:"aujourd'hui",yesterday:"hier",days:e=>`${Math.floor(e)} jours`,month:"il y a 1 mois",months:e=>`il y a ${Math.floor(e)} mois`,year:"il y a 1 an",years:e=>`il y a ${Math.floor(e)} ans`}};files=[{nameKey:"more.resumes.french",path:"assets/pdf/tanguy_hardion_cv.pdf",lastCommitDate:"",image:"flags/france.png"},{nameKey:"more.resumes.english",path:"assets/pdf/tanguy_hardion_resume.pdf",lastCommitDate:"",image:"flags/europe.png"},{nameKey:"more.resumes.us",path:"assets/pdf/tanguy_hardion_us_resume.pdf",lastCommitDate:"",image:"flags/us.png"}];languages=[{nameKey:"more.languages.french.name",levelKey:"more.languages.french.level",image:"flags/france-gradient.png"},{nameKey:"more.languages.english.name",levelKey:"more.languages.english.level",image:"flags/us-gradient.png"},{nameKey:"more.languages.spanish.name",levelKey:"more.languages.spanish.level",image:"flags/spain-gradient.png"}];interests=[{nameKey:"more.interests.watchmaking",image:"illustrations/watch.png"},{nameKey:"more.interests.sports",image:"illustrations/gym.jpg"},{nameKey:"more.interests.music",image:"illustrations/piano.jpg"}];ngOnInit(){this.updateFileCommitDates(),this.translateService.onLangChange.subscribe(()=>{this.updateFileCommitDates()})}updateFileCommitDates(){this.files.forEach(e=>f(this,null,function*(){let t=localStorage.getItem(e.path);if(t){let n=JSON.parse(t);this.isStale(n.timestamp)?yield this.fetchAndStoreData(e,e.path):e.lastCommitDate=this.getDuration(new Date(n.lastCommitDate))}else yield this.fetchAndStoreData(e,e.path)}))}getImagePath(e){return`url(assets/images/${e})`}fetchAndStoreData(e,t){return f(this,null,function*(){let n=yield this.getLastCommitDate(t);n&&(e.lastCommitDate=this.getDuration(n),localStorage.setItem(t,JSON.stringify({lastCommitDate:n.toISOString(),timestamp:Date.now()})))})}getLastCommitDate(e){return f(this,null,function*(){let p=`https://api.github.com/repos/tanguyhardion/tanguyhardion.github.io/commits?path=src/${e}`;try{let M=yield(yield fetch(p)).json();return M.length>0?new Date(M[0].commit.author.date):null}catch(g){return console.error("Error fetching commit date:",g),null}})}getDuration(e){let p=(new Date().getTime()-e.getTime())/(1e3*60*60*24);return this.formatDuration(p,this.translateService.currentLang)}formatDuration(e,t){let n=this.translations[t];if(e<1)return n.today;if(e<2)return n.yesterday;if(e<30)return n.days(e);{let p=e/30;if(p<12)return p<2?n.month:n.months(p);{let g=p/12;return g<2?n.year:n.years(g)}}}isStale(e){return Date.now()-e>864e5}static \u0275fac=function(t){return new(t||a)(P(k))};static \u0275cmp=v({type:a,selectors:[["more"]],decls:19,vars:9,consts:[[1,"wrapper"],[1,"file-container"],["pAnimateOnScroll","","enterClass","animated fadeInUp",1,"file"],[1,"languages"],["pAnimateOnScroll","","enterClass","animated fadeInUp",1,"language",3,"ngStyle"],[1,"interests"],["pAnimateOnScroll","","enterClass","animated fadeInUp",1,"interest",3,"ngStyle"],["target","_blank",1,"link",3,"href","ngStyle"],[1,"material-icons"],[1,"date"],[1,"name"],[1,"level"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h1"),s(2),l(3,"translate"),o(),r(4,"div",1),y(5,L,7,8,"div",2,C),o(),r(7,"h1"),s(8),l(9,"translate"),o(),r(10,"div",3),y(11,U,9,9,"div",4,C),o(),r(13,"h1"),s(14),l(15,"translate"),o(),r(16,"div",5),y(17,N,3,6,"div",6,C),o()()),t&2&&(i(2),c(m(3,3,"more.resumes.header")),i(3),_(n.files),i(3),c(m(9,5,"more.languages.header")),i(3),_(n.languages),i(3),c(m(15,7,"more.interests.header")),i(3),_(n.interests))},dependencies:[I,b,K,F,E],styles:['.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:28px;opacity:0;animation:fadeInUp .8s ease-out forwards}.wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:not(:first-of-type){margin-top:48px}.wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:nth-of-type(1){animation-delay:.1s}.wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:nth-of-type(2){animation-delay:.3s}.wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:nth-of-type(3){animation-delay:.5s}.wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:36px}.wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px}.wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{position:relative;padding:24px 16px;border-radius:888654px;display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;text-decoration:none;font-size:1.2rem;min-width:270px;width:fit-content;transition:all .4s ease;overflow:hidden}.wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 10px 25px #0000004d}.wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:var(--link-image),var(--foreground-default);background-size:cover;background-position:center;opacity:.3;z-index:-1;border-radius:24px}.wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:.8em;color:#666;font-style:italic}.wrapper[_ngcontent-%COMP%]   .interests[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:64px}.wrapper[_ngcontent-%COMP%]   .interests[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]{position:relative;font-size:1.7rem;font-weight:700;width:300px;height:300px;display:flex;justify-content:center;align-items:center;transition:all .4s ease;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .interests[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.05)}.wrapper[_ngcontent-%COMP%]   .interests[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:var(--interest-image),var(--foreground-default);background-size:cover;background-position:center;opacity:.2;z-index:-1;border-radius:24px}.wrapper[_ngcontent-%COMP%]   .languages[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:64px}.wrapper[_ngcontent-%COMP%]   .languages[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]{display:flex;align-items:center;transition:all .4s ease;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .languages[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.1)}.wrapper[_ngcontent-%COMP%]   .languages[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:900;font-size:1.4rem;background-image:var(--language-image);background-size:cover;background-clip:text;color:transparent}@media (max-width: 600px){.file-container[_ngcontent-%COMP%], .interests[_ngcontent-%COMP%], .languages[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 1100px){.interests[_ngcontent-%COMP%]{flex-direction:column;gap:32px!important}.languages[_ngcontent-%COMP%]{flex-direction:column;gap:24px!important}}']})};export{T as MoreComponent};
