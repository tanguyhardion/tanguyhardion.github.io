import{O as v,f as s}from"./chunk-S3JNK5LH.js";var l=e=>typeof e=="string"?e:e.src,p=({amount:e=3,format:r="array",group:n=20,sample:t=10}={})=>({amount:e,format:r,group:n,sample:t}),b=(e,r)=>{var n=e.map(t=>{var a=Array.isArray(t)?t:t.split(",").map(Number);return r.format==="hex"?h(a):a});return r.amount===1||n.length===1?n[0]:n},m=(e,r)=>{var n=Math.round(e/r)*r;return Math.min(n,255)},h=e=>"#"+e.map(r=>{var n=r.toString(16);return n.length===1?"0"+n:n}).join(""),d=e=>new Promise((r,n)=>{var t=document.createElement("canvas"),a=t.getContext("2d"),o=new Image;o.onload=()=>{t.height=o.height,t.width=o.width,a.drawImage(o,0,0);var i=a.getImageData(0,0,o.width,o.height).data;r(i)},o.onerror=()=>n(Error("Image loading failed.")),o.crossOrigin="",o.src=e});var I=(e,r)=>{for(var n=4*r.sample,t={},a=0;a<e.length;a+=n){var o=[m(e[a],r.group),m(e[a+1],r.group),m(e[a+2],r.group)].join();t[o]=t[o]?t[o]+1:1}return b(Object.entries(t).sort(([i,c],[M,f])=>c>f?-1:1).slice(0,r.amount).map(([i])=>i),r)},y=(e,r,n)=>new Promise((t,a)=>d(l(r)).then(o=>t(e(o,p(n)))).catch(o=>a(o)));var g=(e,r)=>y(I,e,r);function E(e){return s(this,null,function*(){let r=document.getElementById(e);if(r){let n=yield g(r,{amount:10,sample:500}),t;for(let a of n)if(Array.isArray(a)&&!w(a)){t=a;break}if(t)return`rgb(${t[0]}, ${t[1]}, ${t[2]})`}})}function w(e,r=10){return Math.abs(e[0]-e[1])<=r&&Math.abs(e[1]-e[2])<=r&&Math.abs(e[0]-e[2])<=r}var u=class e{observeElementOnce(r,n,t={threshold:.5,rootMargin:"0px"}){if(!r){console.error("Element reference is invalid.");return}let a=new IntersectionObserver(o=>{o.forEach(i=>{i.isIntersecting&&(n(!0),a.unobserve(r.nativeElement))})},t);a.observe(r.nativeElement)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})};export{E as a,u as b};
